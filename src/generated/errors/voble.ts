/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  isProgramError,
  type Address,
  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,
  type SolanaError,
} from "@solana/kit";
import { VOBLE_PROGRAM_ADDRESS } from "../programs";

/** InsufficientActivityPoints: Insufficient activity points */
export const VOBLE_ERROR__INSUFFICIENT_ACTIVITY_POINTS = 0x1770; // 6000
/** MathOverflow: Math overflow */
export const VOBLE_ERROR__MATH_OVERFLOW = 0x1771; // 6001
/** GamePaused: Game is currently paused */
export const VOBLE_ERROR__GAME_PAUSED = 0x1772; // 6002
/** InvalidCorrectCount: Invalid correct count (must be 0-6) */
export const VOBLE_ERROR__INVALID_CORRECT_COUNT = 0x1773; // 6003
/** InvalidGuessesUsed: Invalid guesses used (must be 1-7) */
export const VOBLE_ERROR__INVALID_GUESSES_USED = 0x1774; // 6004
/** AlreadyClaimed: Prize already claimed */
export const VOBLE_ERROR__ALREADY_CLAIMED = 0x1775; // 6005
/** PeriodAlreadyFinalized: Period already finalized */
export const VOBLE_ERROR__PERIOD_ALREADY_FINALIZED = 0x1776; // 6006
/** InsufficientVaultBalance: Insufficient vault balance */
export const VOBLE_ERROR__INSUFFICIENT_VAULT_BALANCE = 0x1777; // 6007
/** NoParticipants: No participants found for this period */
export const VOBLE_ERROR__NO_PARTICIPANTS = 0x1778; // 6008
/** InvalidWinnerSplits: Invalid winner splits configuration */
export const VOBLE_ERROR__INVALID_WINNER_SPLITS = 0x1779; // 6009
/** InvalidPrizeSplits: Invalid prize split percentages */
export const VOBLE_ERROR__INVALID_PRIZE_SPLITS = 0x177a; // 6010
/** SessionIdTooLong: Session ID too long (max 50 characters) */
export const VOBLE_ERROR__SESSION_ID_TOO_LONG = 0x177b; // 6011
/** PeriodIdTooLong: Period ID too long (max 20 characters) */
export const VOBLE_ERROR__PERIOD_ID_TOO_LONG = 0x177c; // 6012
/** PeriodTypeTooLong: Period type too long (max 10 characters) */
export const VOBLE_ERROR__PERIOD_TYPE_TOO_LONG = 0x177d; // 6013
/** Unauthorized: Unauthorized access */
export const VOBLE_ERROR__UNAUTHORIZED = 0x177e; // 6014
/** PeriodNotFound: Period not found */
export const VOBLE_ERROR__PERIOD_NOT_FOUND = 0x177f; // 6015
/** InvalidPeriodState: Invalid period state */
export const VOBLE_ERROR__INVALID_PERIOD_STATE = 0x1780; // 6016
/** DailyLimitExceeded: Daily play limit exceeded (1 game per day) */
export const VOBLE_ERROR__DAILY_LIMIT_EXCEEDED = 0x1781; // 6017
/** SessionIdEmpty: Session ID cannot be empty */
export const VOBLE_ERROR__SESSION_ID_EMPTY = 0x1782; // 6018
/** InvalidScore: Invalid score */
export const VOBLE_ERROR__INVALID_SCORE = 0x1783; // 6019
/** InvalidGuessCount: Invalid guess count (must be 0-7) */
export const VOBLE_ERROR__INVALID_GUESS_COUNT = 0x1784; // 6020
/** InvalidWinnerCount: Invalid winner count (must be exactly 3) */
export const VOBLE_ERROR__INVALID_WINNER_COUNT = 0x1785; // 6021
/** InvalidWinnerOrder: Winners not sorted correctly by score */
export const VOBLE_ERROR__INVALID_WINNER_ORDER = 0x1786; // 6022
/** InvalidPrizeAmount: Invalid prize amount */
export const VOBLE_ERROR__INVALID_PRIZE_AMOUNT = 0x1787; // 6023
/** InvalidTimeMs: Invalid time in milliseconds */
export const VOBLE_ERROR__INVALID_TIME_MS = 0x1788; // 6024
/** WordNotSet: Target word not set - VRF callback pending */
export const VOBLE_ERROR__WORD_NOT_SET = 0x1789; // 6025
/** InvalidUsername: Invalid username format or length */
export const VOBLE_ERROR__INVALID_USERNAME = 0x178a; // 6026
/** InvalidGuessLength: Invalid guess length (must be 6 characters) */
export const VOBLE_ERROR__INVALID_GUESS_LENGTH = 0x178b; // 6027
/** InvalidGuess: Invalid guess format (must contain only letters) */
export const VOBLE_ERROR__INVALID_GUESS = 0x178c; // 6028
/** AlreadyPlayedThisPeriod: Player has already played this period */
export const VOBLE_ERROR__ALREADY_PLAYED_THIS_PERIOD = 0x178d; // 6029
/** InvalidInput: Invalid input */
export const VOBLE_ERROR__INVALID_INPUT = 0x178e; // 6030
/** InvalidTicketReceipt: Invalid ticket receipt */
export const VOBLE_ERROR__INVALID_TICKET_RECEIPT = 0x178f; // 6031
/** TicketAlreadyUsed: Ticket receipt already used for this session */
export const VOBLE_ERROR__TICKET_ALREADY_USED = 0x1790; // 6032
/** InvalidWinnerAccount: Invalid winner account provided */
export const VOBLE_ERROR__INVALID_WINNER_ACCOUNT = 0x1791; // 6033
/** InvalidPeriodType: Invalid period type (must be Weekly) */
export const VOBLE_ERROR__INVALID_PERIOD_TYPE = 0x1792; // 6034
/** PeriodNotFinalized: Period must be finalized before lucky draw */
export const VOBLE_ERROR__PERIOD_NOT_FINALIZED = 0x1793; // 6035
/** InsufficientFunds: Insufficient funds for lucky draw */
export const VOBLE_ERROR__INSUFFICIENT_FUNDS = 0x1794; // 6036
/** NoClaimableAmount: No claimable amount */
export const VOBLE_ERROR__NO_CLAIMABLE_AMOUNT = 0x1795; // 6037
/** InvalidMerkleProof: Invalid Merkle proof for participant */
export const VOBLE_ERROR__INVALID_MERKLE_PROOF = 0x1796; // 6038

export type VobleError =
  | typeof VOBLE_ERROR__ALREADY_CLAIMED
  | typeof VOBLE_ERROR__ALREADY_PLAYED_THIS_PERIOD
  | typeof VOBLE_ERROR__DAILY_LIMIT_EXCEEDED
  | typeof VOBLE_ERROR__GAME_PAUSED
  | typeof VOBLE_ERROR__INSUFFICIENT_ACTIVITY_POINTS
  | typeof VOBLE_ERROR__INSUFFICIENT_FUNDS
  | typeof VOBLE_ERROR__INSUFFICIENT_VAULT_BALANCE
  | typeof VOBLE_ERROR__INVALID_CORRECT_COUNT
  | typeof VOBLE_ERROR__INVALID_GUESS
  | typeof VOBLE_ERROR__INVALID_GUESS_COUNT
  | typeof VOBLE_ERROR__INVALID_GUESSES_USED
  | typeof VOBLE_ERROR__INVALID_GUESS_LENGTH
  | typeof VOBLE_ERROR__INVALID_INPUT
  | typeof VOBLE_ERROR__INVALID_MERKLE_PROOF
  | typeof VOBLE_ERROR__INVALID_PERIOD_STATE
  | typeof VOBLE_ERROR__INVALID_PERIOD_TYPE
  | typeof VOBLE_ERROR__INVALID_PRIZE_AMOUNT
  | typeof VOBLE_ERROR__INVALID_PRIZE_SPLITS
  | typeof VOBLE_ERROR__INVALID_SCORE
  | typeof VOBLE_ERROR__INVALID_TICKET_RECEIPT
  | typeof VOBLE_ERROR__INVALID_TIME_MS
  | typeof VOBLE_ERROR__INVALID_USERNAME
  | typeof VOBLE_ERROR__INVALID_WINNER_ACCOUNT
  | typeof VOBLE_ERROR__INVALID_WINNER_COUNT
  | typeof VOBLE_ERROR__INVALID_WINNER_ORDER
  | typeof VOBLE_ERROR__INVALID_WINNER_SPLITS
  | typeof VOBLE_ERROR__MATH_OVERFLOW
  | typeof VOBLE_ERROR__NO_CLAIMABLE_AMOUNT
  | typeof VOBLE_ERROR__NO_PARTICIPANTS
  | typeof VOBLE_ERROR__PERIOD_ALREADY_FINALIZED
  | typeof VOBLE_ERROR__PERIOD_ID_TOO_LONG
  | typeof VOBLE_ERROR__PERIOD_NOT_FINALIZED
  | typeof VOBLE_ERROR__PERIOD_NOT_FOUND
  | typeof VOBLE_ERROR__PERIOD_TYPE_TOO_LONG
  | typeof VOBLE_ERROR__SESSION_ID_EMPTY
  | typeof VOBLE_ERROR__SESSION_ID_TOO_LONG
  | typeof VOBLE_ERROR__TICKET_ALREADY_USED
  | typeof VOBLE_ERROR__UNAUTHORIZED
  | typeof VOBLE_ERROR__WORD_NOT_SET;

let vobleErrorMessages: Record<VobleError, string> | undefined;
if (process.env.NODE_ENV !== "production") {
  vobleErrorMessages = {
    [VOBLE_ERROR__ALREADY_CLAIMED]: `Prize already claimed`,
    [VOBLE_ERROR__ALREADY_PLAYED_THIS_PERIOD]: `Player has already played this period`,
    [VOBLE_ERROR__DAILY_LIMIT_EXCEEDED]: `Daily play limit exceeded (1 game per day)`,
    [VOBLE_ERROR__GAME_PAUSED]: `Game is currently paused`,
    [VOBLE_ERROR__INSUFFICIENT_ACTIVITY_POINTS]: `Insufficient activity points`,
    [VOBLE_ERROR__INSUFFICIENT_FUNDS]: `Insufficient funds for lucky draw`,
    [VOBLE_ERROR__INSUFFICIENT_VAULT_BALANCE]: `Insufficient vault balance`,
    [VOBLE_ERROR__INVALID_CORRECT_COUNT]: `Invalid correct count (must be 0-6)`,
    [VOBLE_ERROR__INVALID_GUESS]: `Invalid guess format (must contain only letters)`,
    [VOBLE_ERROR__INVALID_GUESS_COUNT]: `Invalid guess count (must be 0-7)`,
    [VOBLE_ERROR__INVALID_GUESSES_USED]: `Invalid guesses used (must be 1-7)`,
    [VOBLE_ERROR__INVALID_GUESS_LENGTH]: `Invalid guess length (must be 6 characters)`,
    [VOBLE_ERROR__INVALID_INPUT]: `Invalid input`,
    [VOBLE_ERROR__INVALID_MERKLE_PROOF]: `Invalid Merkle proof for participant`,
    [VOBLE_ERROR__INVALID_PERIOD_STATE]: `Invalid period state`,
    [VOBLE_ERROR__INVALID_PERIOD_TYPE]: `Invalid period type (must be Weekly)`,
    [VOBLE_ERROR__INVALID_PRIZE_AMOUNT]: `Invalid prize amount`,
    [VOBLE_ERROR__INVALID_PRIZE_SPLITS]: `Invalid prize split percentages`,
    [VOBLE_ERROR__INVALID_SCORE]: `Invalid score`,
    [VOBLE_ERROR__INVALID_TICKET_RECEIPT]: `Invalid ticket receipt`,
    [VOBLE_ERROR__INVALID_TIME_MS]: `Invalid time in milliseconds`,
    [VOBLE_ERROR__INVALID_USERNAME]: `Invalid username format or length`,
    [VOBLE_ERROR__INVALID_WINNER_ACCOUNT]: `Invalid winner account provided`,
    [VOBLE_ERROR__INVALID_WINNER_COUNT]: `Invalid winner count (must be exactly 3)`,
    [VOBLE_ERROR__INVALID_WINNER_ORDER]: `Winners not sorted correctly by score`,
    [VOBLE_ERROR__INVALID_WINNER_SPLITS]: `Invalid winner splits configuration`,
    [VOBLE_ERROR__MATH_OVERFLOW]: `Math overflow`,
    [VOBLE_ERROR__NO_CLAIMABLE_AMOUNT]: `No claimable amount`,
    [VOBLE_ERROR__NO_PARTICIPANTS]: `No participants found for this period`,
    [VOBLE_ERROR__PERIOD_ALREADY_FINALIZED]: `Period already finalized`,
    [VOBLE_ERROR__PERIOD_ID_TOO_LONG]: `Period ID too long (max 20 characters)`,
    [VOBLE_ERROR__PERIOD_NOT_FINALIZED]: `Period must be finalized before lucky draw`,
    [VOBLE_ERROR__PERIOD_NOT_FOUND]: `Period not found`,
    [VOBLE_ERROR__PERIOD_TYPE_TOO_LONG]: `Period type too long (max 10 characters)`,
    [VOBLE_ERROR__SESSION_ID_EMPTY]: `Session ID cannot be empty`,
    [VOBLE_ERROR__SESSION_ID_TOO_LONG]: `Session ID too long (max 50 characters)`,
    [VOBLE_ERROR__TICKET_ALREADY_USED]: `Ticket receipt already used for this session`,
    [VOBLE_ERROR__UNAUTHORIZED]: `Unauthorized access`,
    [VOBLE_ERROR__WORD_NOT_SET]: `Target word not set - VRF callback pending`,
  };
}

export function getVobleErrorMessage(code: VobleError): string {
  if (process.env.NODE_ENV !== "production") {
    return (vobleErrorMessages as Record<VobleError, string>)[code];
  }

  return "Error message not available in production bundles.";
}

export function isVobleError<TProgramErrorCode extends VobleError>(
  error: unknown,
  transactionMessage: {
    instructions: Record<number, { programAddress: Address }>;
  },
  code?: TProgramErrorCode,
): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &
  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {
  return isProgramError<TProgramErrorCode>(
    error,
    transactionMessage,
    VOBLE_PROGRAM_ADDRESS,
    code,
  );
}
